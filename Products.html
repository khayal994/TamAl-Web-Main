<!DOCTYPE html>
<html>
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="new.css">
<link rel="stylesheet" href="search.css">
<style>
            .navbar-containerkat {
            display: flex;
            align-items: center;
            background-color: #f4f4f4;
            padding: 10px;
            position: relative;
        }

        .navbarkat {
            flex-grow: 1;
            overflow: hidden; /* Hide overflow to prevent scrollbars */
            white-space: nowrap; /* Ensure all items stay in one line */
            display: flex; /* Allow flexbox properties for centering */
        }

        .nav-listkat {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            transition: transform 0.3s ease-in-out;
        }

        .nav-itemkat {
            margin-right: 10px;
            flex-shrink: 0;
        }

        .nav-itemkat a {
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 25px;
            background-color: #e6e6e6;
            color: #000;
            display: flex;
            align-items: center;
        }

        .nav-item a:hover {
            background-color: orangered;
        }

        .nav-itemkat:first-child a {
            background-color: orangered;
            color: #fff;
        }

        /* Scroll buttons for desktop */
        @media (min-width: 768px) {
            .scroll-btn {
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: #fff;
                border: 1px solid #ccc;
                border-radius: 50%;
                width: 30px;
                height: 30px;
                cursor: pointer;
                transition: background-color 0.3s;
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                z-index: 1; /* Ensure buttons are above content */
            }

            .scroll-btn.left {
                left: 10px;
            }

            .scroll-btn.right {
                right: 10px;
            }

            .scroll-btn:hover,
            .scroll-btn:active {
                background-color: orangered;
                color: #fff;
            }

            /* Hide scroll buttons on mobile */
            .scroll-btn.mobile {
                display: none;
            }
        }

    /* Reset styles */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    /* Navbar styles */
    .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #333;
        color: #fff;
        padding: 10px 20px;
    }

    .navbar-brand {
        font-size: 1.5rem;
    }

    .navbar-search {
        display: flex;
        align-items: center;
    }

    .navbar-search input[type="text"] {
        padding: 8px;
        border: none;
        border-radius: 5px 0 0 5px;
    }

    .navbar-search button {
        background-color: #4CAF50;
        color: white;
        padding: 8px 12px;
        border: none;
        border-radius: 0 5px 5px 0;
        cursor: pointer;
    }

    .navbar-search button:hover {
        background-color: #45a049;
    }

    /* Filter section styles */
    .filter-section {
        background-color: #f9f9f9;
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }


    .filter-section h2 {
        font-size: 1.5rem;
        margin-bottom: 10px;
    }

    .filters {
        display: flex;
        flex-wrap: wrap;
    }

    .filter {
        margin-right: 20px;
        margin-bottom: 10px;
    }

    .filter label {
        font-weight: bold;
    }

    .filter input[type="text"],
    .filter select,
    .filter input[type="number"],
    .filter input[type="range"],
    .filter input[type="color"] {
        padding: 8px;
        margin-top: 5px;
        border: 1px solid #ccc;
        border-radius: 5px;
        width: 150px;
    }

    .filter input[type="range"] {
        width: 100%;
    }

    .filter button {
        background-color: #4CAF50;
        color: white;
        padding: 8px 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .filter button:hover {
        background-color: #45a049;
    }
    .carousel-containerxl {
position: absolute;
margin-left: 60px;
max-width: 1500px;
overflow: hidden;

}

.carousel-wrapperxl {
display: flex;
flex-direction: row;
flex-wrap: wrap;
align-items: center;
gap: 4px;
transition: transform 0.5s ease;
}

.product-cardxl {
background-color: #fff;
border: 1px solid #ddd;
border-radius: 8px;
overflow: hidden;
width: 250px;
box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
text-align: left;
padding: 20px;
margin: 10px;
flex-shrink: 0;
}

.image-containerxl {
position: relative;
width: 100%;
height: 100%;
text-align: center;

}

.product-imagexl {
width: 100%;
height: 100%;
}

.heart-iconxl {
position: absolute;
top: 10px;
right: 10px;
font-size: 1.5em;
color: #e74c3c;
cursor: pointer;
}

.heart-iconxl::before {
content: "♡";
}

.product-infoxl {
padding: 10px 0;
width: 100%;
}

.product-namexl {
font-size: 1.5em;
margin-top: -15px;
}

.product-descriptionxl {
font-size: 0.9em;
color: #555;
margin: 10px 0;
}

.product-pricesxl {
display: flex;
align-items: baseline;
margin: 10px 0;
}

.current-pricexl {
font-size: 1.2em;
font-weight: bold;
color: #e74c3c;
margin-right: 10px;
}

.old-pricexl {
font-size: 1em;
color: #aaa;
text-decoration: line-through;
}

.product-ratingxl {
font-size: 1.2em;
color: #f39c12;
}

.star {
margin: 0 2px;
}

.add-to-cartxl {
display: flex;
justify-content: flex-start;
align-items: center;
margin-bottom: 20px;
padding: 10px 20px;
background-color: transparent;
color: #3498db;
border: none;
cursor: pointer;
font-size: 1em;
}

.cart-iconxl {
margin-left: 10px;
font-size: 1.2em;
}


    /* Responsive adjustments */
    @media (max-width: 768px) {
        .carousel-containerxl{
            margin-left: 10px;
        }
        .product-cardxl{
            background-color: #fff;
border: 1px solid #ddd;
border-radius: 8px;
overflow: hidden;
width: 165px;
box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
text-align: left;
padding: 20px;
margin: 5px;
flex-shrink: 0;
        }
        .filter-section {
            padding: 10px;
        }

        .filter {
            margin-right: 10px;
        }
    }

    @media (max-width: 480px) {
        .filter {
            width: 100%;
            margin-right: 0;
        }
    }
    /* Sidebar animation */


</style>

</head>
<body class="w3-light-grey">

<!-- Top container -->




<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;height: 100%;" id="mySidebar"><br>

    <div class="w3-container">
      <h5>Filterlər</h5>
    </div><hr><br>
    <div class="w3-bar-block">

      <div class="filter">
          <label for="sizeFilter">Ölçü</label>
          <select id="sizeFilter" class="w3-input w3-border">
              <option value="">Hamısı</option>
              <option value="s">S</option>
              <option value="m">M</option>
              <option value="l">L</option>
              <option value="xl">XL</option>
          </select>
      </div>
      <div class="filter">
          <label for="minPriceFilter">Min Qiymət</label>
          <input type="number" class="w3-input input w3-border" id="minPriceFilter" placeholder="Min qiymət daxil edin">
      </div>
      <div class="filter">
          <label for="maxPriceFilter">Max Qiymət</label>
          <input type="number" class="w3-input w3-border" id="maxPriceFilter" placeholder="Max qiymət daxil edin">
      </div>
      <div class="filter">
        <label for="brandFilter">Brend</label>
        <select id="brandFilter">
            <option value="">Hamısı</option>
            <option value="brand1">Brend 1</option>
            <option value="brand2">Brend 2</option>
            <option value="brand3">Brend 3</option>
        </select>
    </div>
      <div class="filter">
          <label for="shoeSizeFilter">Ayakkabı Ölçüsü</label>
          <input type="text" id="shoeSizeFilter" placeholder="Ayakkabı ölçüsü daxil edin">
      </div>
      <div class="filter">
          <label for="genderFilter">Cinsiyyət</label><br>
          <select id="genderFilter">
              <option value="">Hamısı</option>
              <option value="men">Kişi</option>
              <option value="women">Qadın</option>
          </select>
      </div>
      <div class="filter">
          <label for="colorFilter">Rəng</label><br>
          <select id="colorFilter">
              <option value="">Hamısı</option>
              <option value="red">Qırmızı</option>
              <option value="black">Qara</option>
              <option value="green">Yaşıl</option>
              <option value="blue">Mavi</option>
              <option value="yellow">Sarı</option>
              <option value="white">Ağ</option>
              <option value="lime">Lime</option>
              <option value="gold">Qızılı</option>
              <option value="beige">Bej</option>
              <option value="burgundy">Bordo</option>
              <option value="khaki">Haki</option>
              <option value="purple">Mor</option>
              <option value="orange">Narıncı</option>
          </select>
      </div>
      <p><button class="w3-button w3-block w3-green w3-left-align" type="button" onclick="applyFilterAndClose()"><i class="fa fa-search w3-margin-right"></i> Filterlə</button></p>
      <br><br><br>
    </div>
  </nav>


<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:300px;">
    <!-- Navbar -->
    <div class="header-main  w3-top  w3-large" >
        <div class="logo">
            <h1>TamAl.</h1>
        </div>
        <div class="search-bar search-barx">
            <input type="text" placeholder="Search..." id="searchInput">
             <button class="buton"><span class="material-icons " onclick="filterProducts()"">search</span></button>
        </div>
        <div class="user-actions">
          <div class="cart-iconlar cartResponsive" >
            <span id="cart-countlar">0</span>
        </div>
        <a href="#" onclick="toggleDropdown(event)"><span class="material-icons piconResponsive picon">person</span></a>
        <div class="dropdown-menu">
          <a href="index3.html"><span>Qeydiyyatdan keç</span><span class="material-icons">person_add</span></a>
          <a href="#"><span>Daxil ol</span><span class="material-icons">login</span></a>
      </div>
        <ul class="nav-linksx">
          <li class="favorites favoritesResponsive">
              <a href="#" id="openFavorites">
                  <span class="icon material-icons" style="color: black;">favorite</span>
                  <span class="count">0</span>
              </a>
          </li>
      </ul>
            
             
            <a href="#"><span class="material-icons sebeticon sebeticonResponsive cart-countlar" onclick="toggleCart()">shopping_cart</span></a>
        </div>
       
    </div>
</header>
<button class="w3-bar-item w3-button w3-hide-large w3-hover-none filterx" onclick="w3_open();"><i class="fa fa-filter"></i> Filterlər</button><br><br>
<div class="navbar-containerkat">
    <button class="scroll-btn left scroll-btn-desktop">&lt;</button>
    <nav class="navbarkat">
        <ul class="nav-listkat">
            <li class="nav-itemkat" data-category="all"><a href="#"><i style="margin-right: 5px;" class='bx bx-home'></i> Hamısı</a></li>
            <li class="nav-itemkat" data-category="electronics"><a href="#"><i style="margin-right: 5px;"  class='bx bx-laptop' ></i> Elektronika və məişət texnikası</a></li>
            <li class="nav-itemkat" data-category="shop"><a href="#"><i style="margin-right: 5px;" class='bx bx-store' ></i> Dükan</a></li>
            <li class="nav-itemkat" data-category="clothing"><a href="#"><i style="margin-right: 5px;" class='bx bxs-t-shirt' ></i> Geyim və ayaqqabı</a></li>
            <li class="nav-itemkat" data-category="accessories"><a href="#"><i style="margin-right: 5px;" class='bx bxs-watch' ></i> Aksessuarlar, saatlar, bəzək əşyaları</a></li>
            <li class="nav-itemkat" data-category="beauty"><a href="#"><i style="margin-right: 5px;" class='bx bx-spa' ></i>Gözəllik və Sağlamlıq</a></li>
            <li class="nav-itemkat" data-category="beauty"><a href="#"><i style="margin-right: 5px;" class='bx bx-spa' ></i>Gözəllik və Sağlamlıq</a></li>
            <li class="nav-itemkat" data-category="beauty"><a href="#"><i style="margin-right: 5px;" class='bx bx-spa' ></i>Gözəllik və Sağlamlıq</a></li>
            <li class="nav-itemkat" data-category="beauty"><a href="#"><i style="margin-right: 5px;" class='bx bx-home' ></i> Ev və bağ üçün</a></li>
        </ul>
    </nav>
    <button class="scroll-btn right scroll-btn-desktop">&gt;</button>
</div>
    <!-- Product Cards Section -->
    <div class="carousel-containerxl">
    <div class="carousel-wrapperxl">
        <!-- Product Card 1 -->
        <div class="product-cardxl product-cardlar product-cardl product-cardx" data-category="all" data-namex="Qara Rəng Kofta oversize" data-pricex="$49.99" data-imagex="sekil 36.jpg" data-id="1" data-name="Məhsul 2" data-price="50" data-image="sekil 1.jpg" data-category-filter="Ayaqqabılar" data-name-filter="Kişi Ayaqqabısı" data-gender-filter="men" data-color-filter="black" data-size-filter="42" data-price-filter="50" data-brand-filter="brand1">
            <div class="image-containerxl">
                <div class="heart-iconxl like-iconx"></div>
                <img class="product-imagexl" src="sekil 11.jpg" alt="Product Image">
            </div>
            <div class="product-infoxl">
                <h3 class="product-namexl">Kişi Ayaqqabısı</h3>
                <p class="product-descriptionxl">Yüksək keyfiyyətli kişi.....</p>
                <div class="product-pricesxl">
                    <span class="current-pricexl">50₼</span>
                    <span class="old-pricexl">70₼</span>
                </div>
                <div class="product-ratingxl">
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9734;</span>
                </div>
                <span class="animated-deliveryxl animatedxl asxl">Çatdırılma Pulsuz 0₼</span><br>
                <button class="add-to-cartxl add-to-cartlar">Səbətə əlavə et <span class="cart-iconxl">&#128722;</span></button>
            </div>
        </div>

        <div class="product-cardxl product-cardlar product-cardl product-cardx " data-category="electronics" data-namex="Qara Rəng Kofta oversize" data-pricex="$49.99" data-imagex="sekil 36.jpg" data-id="1" data-name="Məhsul 2" data-price="50" data-image="sekil 1.jpg" data-category-filter="Ayaqqabılar" data-name-filter="Kişi Ayaqqabısı" data-gender-filter="men" data-color-filter="black" data-size-filter="42" data-price-filter="50" data-brand-filter="brand1">
            <div class="image-containerxl">
                <img class="product-imagexl" src="sekil 11.jpg" alt="Product Image">
                <div class="heart-iconxl like-iconx"></div>
            </div>
            <div class="product-infoxl">
                <h3 class="product-namexl">Kişi gg Ayaqqabısı</h3>
                <p class="product-descriptionxl">Yüksək keyfiyyətli kişi.....</p>
                <div class="product-pricesxl">
                    <span class="current-pricexl">50₼</span>
                    <span class="old-pricexl">70₼</span>
                </div>
                <div class="product-ratingxl">
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9734;</span>
                </div>
                <span class="animated-deliveryxl animatedxl asxl">Çatdırılma Pulsuz 0₼</span><br>
                <button class="add-to-cartxl add-to-cartlar">Səbətə əlavə et <span class="cart-iconxl">&#128722;</span></button>
            </div>
        </div>
        <!-- Product Card 2 -->
        <div class="product-cardxl product-cardl" data-category="all" data-category-filter="Geyim" data-name-filter="Qadın Donu" data-gender-filter="women" data-color-filter="red" data-size-filter="M" data-price-filter="80" data-brand-filter="brand2">
            <div class="image-containerxl">
                <img class="product-imagexl" src="sekil 11.jpg" alt="Product Image">
                <div class="heart-iconxl"></div>
            </div>
            <div class="product-infoxl">
                <h3 class="product-namexl">Qadın Donu</h3>
                <p class="product-descriptionxl">Şık və rahat qadın donu</p>
                <div class="product-pricesxl">
                    <span class="current-pricexl">80₼</span>
                    <span class="old-pricexl">100₼</span>
                </div>
                <div class="product-ratingxl">
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                    <span class="star">&#9733;</span>
                </div>
                <button class="add-to-cartxl add-to-cartlar">Səbətə əlavə et <span class="cart-iconxl">&#128722;</span></button>
            </div>
            <span class="animated-deliveryxl animatedxl asxl">Çatdırılma Pulsuz 0₼</span>
        </div>

        <div class="product-cardxl product-cardl" data-category="all" data-category-filter="Geyim" data-name-filter="Qadın Donu" data-gender-filter="women" data-color-filter="green" data-size-filter="M" data-price-filter="80" data-brand-filter="brand2">
          <div class="image-containerxl">
              <img class="product-imagexl" src="sekil 11.jpg" alt="Product Image">
              <div class="heart-iconxl"></div>
          </div>
          <div class="product-infoxl">
              <h3 class="product-namexl">Qadın Donu</h3>
              <p class="product-descriptionxl">Şık və green rahat qadın donu</p>
              <div class="product-pricesxl">
                  <span class="current-pricexl">80₼</span>
                  <span class="old-pricexl">100₼</span>
              </div>
              <div class="product-ratingxl">
                  <span class="star">&#9733;</span>
                  <span class="star">&#9733;</span>
                  <span class="star">&#9733;</span>
                  <span class="star">&#9733;</span>
                  <span class="star">&#9733;</span>
              </div>
              <button class="add-to-cartxl">Səbətə əlavə et <span class="cart-iconxl">&#128722;</span></button>
          </div>
          <span class="animated-deliveryxl animatedxl asxl">Çatdırılma Pulsuz 0₼</span>
      </div>

      <div class="product-cardxl product-cardl" data-category="all" data-category-filter="Geyim" data-name-filter="Qadın Donu" data-gender-filter="women" data-color-filter="green" data-size-filter="M" data-price-filter="80" data-brand-filter="brand2">
        <div class="image-containerxl">
            <img class="product-imagexl" src="sekil 11.jpg" alt="Product Image">
            <div class="heart-iconxl"></div>
        </div>
        <div class="product-infoxl">
            <h3 class="product-namexl">Qadın Donu</h3>
            <p class="product-descriptionxl">Şık və green rahat qadın donu</p>
            <div class="product-pricesxl">
                <span class="current-pricexl">80₼</span>
                <span class="old-pricexl">100₼</span>
            </div>
            <div class="product-ratingxl">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
            </div>
            <button class="add-to-cartxl">Səbətə əlavə et <span class="cart-iconxl">&#128722;</span></button>
        </div>
        <span class="animated-deliveryxl animatedxl asxl">Çatdırılma Pulsuz 0₼</span>
    </div>

    <div class="product-cardxl product-cardl" data-category="all" data-category-filter="Geyim" data-name-filter="Qadın Donu" data-gender-filter="women" data-color-filter="green" data-size-filter="M" data-price-filter="80" data-brand-filter="brand2">
        <div class="image-containerxl">
            <img class="product-imagexl" src="sekil 11.jpg" alt="Product Image">
            <div class="heart-iconxl"></div>
        </div>
        <div class="product-infoxl">
            <h3 class="product-namexl">Qadın Donu</h3>
            <p class="product-descriptionxl">Şık və green rahat qadın donu</p>
            <div class="product-pricesxl">
                <span class="current-pricexl">80₼</span>
                <span class="old-pricexl">100₼</span>
            </div>
            <div class="product-ratingxl">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
            </div>
            <button class="add-to-cartxl">Səbətə əlavə et <span class="cart-iconxl">&#128722;</span></button>
        </div>
        <span class="animated-deliveryxl animatedxl asxl">Çatdırılma Pulsuz 0₼</span>
    </div>
        <!-- Daha çox məhsul kartları əlavə edin -->
    </div>

</div>
<div id="noProductsMessage" style="display: none; text-align: center; margin-top: 20px;">
  <p>Heç bir məhsul tapılmadı</p>
  <img src="file (1).png" alt="Üzgün icon" style="opacity: 0.3; width: 50px; height: 50px;">
</div>
<div class="cart-sidebarlar" id="cart-sidebarlar">
    <div class="cart-headerlar">
        <h2>Səbət</h2>
        <span class="close-btnlar" onclick="toggleCart()">✖</span>
    </div>
    <div class="cart-itemslar">
        <!-- Səbətə əlavə olunan məhsullar buraya gələcək -->
    </div>
    <div class="cart-footerlar">
        <p>Ümumi: <span id="total-pricelar">0</span> AZN</p>
        <button class="checkout-btnlar">Alış-verişi tamamla</button>
    </div>
</div>
<div class="notification" id="notification">
    <span class="notification-icon">✔</span>
    <span class="notification-message">Məhsul favorilərə əlavə edildi</span>
</div>
<div class="favorites-pagex" id="favoritesPagex">
    <div class="favorites-contentx">
        <span class="closex" id="closeFavorites">&times;</span>
        <h2>Favorilər</h2>
        <div id="favoritesList">
            <!-- Favorit məhsullar burada göstəriləcək -->
        </div>
    </div>
</div>
<script>
            function filterProducts() {
    const searchInput = document.getElementById("searchInput").value.toLowerCase();
    const genderFilter = document.getElementById("genderFilter").value;
    const colorFilter = document.getElementById("colorFilter").value;
    const sizeFilter = document.getElementById("sizeFilter").value.toLowerCase();
    const minPriceFilter = document.getElementById("minPriceFilter").value;
    const maxPriceFilter = document.getElementById("maxPriceFilter").value;
    const brandFilter = document.getElementById("brandFilter").value;
    const cards = document.querySelectorAll(".product-cardxl");

    let anyProductsMatch = false; // Yalnız filterə uyğun məhsul varsa true olacaq

    cards.forEach(card => {
        const name = card.getAttribute("data-name-filter").toLowerCase();
        const category = card.getAttribute("data-category-filter").toLowerCase();
        const gender = card.getAttribute("data-gender-filter");
        const color = card.getAttribute("data-color-filter");
        const size = card.getAttribute("data-size-filter").toLowerCase();
        const price = parseFloat(card.getAttribute("data-price-filter"));
        const brand = card.getAttribute("data-brand-filter");

        let show = true;

        if (searchInput && !(name.includes(searchInput) || category.includes(searchInput))) {
            show = false;
        }

        if (genderFilter && gender !== genderFilter) {
            show = false;
        }

        if (colorFilter && color !== colorFilter) {
            show = false;
        }

        if (sizeFilter && !size.includes(sizeFilter)) {
            show = false;
        }

        if (minPriceFilter && price < parseFloat(minPriceFilter)) {
            show = false;
        }

        if (maxPriceFilter && price > parseFloat(maxPriceFilter)) {
            show = false;
        }

        if (brandFilter && brand !== brandFilter) {
            show = false;
        }

        card.style.display = show ? "block" : "none";

        if (show) {
            anyProductsMatch = true; // Filtrləmə nəticəsi varsa true olur
        }
    });

    // Əgər filtrə uyğun heç bir məhsul yoxdursa mesajı göstər
    if (!anyProductsMatch) {
        document.getElementById('noProductsMessage').style.display = 'block';
    } else {
        document.getElementById('noProductsMessage').style.display = 'none';
    }
}



// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
    overlayBg.style.display = "none";
  } else {
    mySidebar.style.display = 'block';
    overlayBg.style.display = "block";
  }
}

// Close the sidebar with the close button
function w3_close() {
  mySidebar.style.display = "none";
  overlayBg.style.display = "none";
}
function toggleCart() {
    const cartSidebar = document.getElementById('cart-sidebarlar');
    const isOpen = cartSidebar.style.right === '0px';
    cartSidebar.style.right = isOpen ? '-400px' : '0px';
}
document.addEventListener('DOMContentLoaded', () => {
    const cartSidebar = document.getElementById('cart-sidebarlar');
    const cartCount = document.getElementById('cart-countlar');
    const totalPriceElement = document.getElementById('total-pricelar');
    const cartItemsContainer = document.querySelector('.cart-itemslar');

    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    updateCart();

    document.querySelectorAll('.add-to-cartlar').forEach(button => {
        button.addEventListener('click', addToCart);
    });

    function addToCart(event) {
        const productCard = event.target.closest('.product-cardlar');
        const productId = productCard.dataset.id;
        const productName = productCard.dataset.name;
        const productPrice = parseFloat(productCard.dataset.price);
        const productImage = productCard.dataset.image;

        const existingProduct = cart.find(item => item.id === productId);
        if (existingProduct) {
            existingProduct.quantity++;
        } else {
            cart.push({
                id: productId,
                name: productName,
                price: productPrice,
                image: productImage,
                quantity: 1
            });
        }

        updateCart();
        toggleCart(true);  // Səbəti avtomatik açmaq üçün true parametri ilə çağırırıq
    }

    function updateCart() {
        localStorage.setItem('cart', JSON.stringify(cart));
        cartCount.textContent = cart.length;
        cartItemsContainer.innerHTML = '';
        let totalPrice = 0;

        cart.forEach(item => {
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            cartItem.innerHTML = `
                <img src="${item.image}" alt="${item.name}">
                <div class="cart-item-details">
                    <h4>${item.name}</h4>
                    <p>${item.price} AZN</p>
                </div>
                <div class="cart-item-actions">
                    <button class="decrease-quantity">-</button>
                    <span>${item.quantity}</span>
                    <button class="increase-quantity">+</button>
                    <button class="remove-item">🗑️</button>
                </div>
            `;
            cartItemsContainer.appendChild(cartItem);

            cartItem.querySelector('.increase-quantity').addEventListener('click', () => changeQuantity(item.id, 1));
            cartItem.querySelector('.decrease-quantity').addEventListener('click', () => changeQuantity(item.id, -1));
            cartItem.querySelector('.remove-item').addEventListener('click', () => removeFromCart(item.id));

            totalPrice += item.price * item.quantity;
        });

        totalPriceElement.textContent = totalPrice.toFixed(2);
    }

    function changeQuantity(productId, change) {
        const product = cart.find(item => item.id === productId);
        if (product) {
            product.quantity += change;
            if (product.quantity <= 0) {
                removeFromCart(productId);
            } else {
                updateCart();
            }
        }
    }

    function removeFromCart(productId) {
        cart = cart.filter(item => item.id !== productId);
        updateCart();
    }

    function toggleCart(forceOpen = false) {
        const isOpen = cartSidebar.style.right === '0px';
        if (forceOpen || !isOpen) {
            cartSidebar.style.right = '0px';
        } else {
            cartSidebar.style.right = '-400px';
        }
    }
});   
// like 
document.getElementById('openFavorites').addEventListener('click', function(event) {
    event.preventDefault();
    document.getElementById('favoritesPagex').classList.add('show');
});

document.getElementById('closeFavorites').addEventListener('click', function() {
    document.getElementById('favoritesPagex').classList.remove('show');
});

let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
updateFavoriteCount();
renderFavorites();

document.querySelectorAll('.like-iconx').forEach(function(icon) {
    const card = icon.closest('.product-cardx');
    const name = card.getAttribute('data-namex');
    const isFavorited = favorites.some(fav => fav.name === name);

    if (isFavorited) {
        icon.classList.add('filled');
    }

    icon.addEventListener('click', function() {
        const name = card.getAttribute('data-namex');
        const price = card.getAttribute('data-pricex');
        const image = card.getAttribute('data-imagex');

        if (icon.classList.contains('filled')) {
            favorites = favorites.filter(fav => fav.name !== name);
            icon.classList.remove('filled');
        } else {
            favorites.push({ name, price, image });
            icon.classList.add('filled');
            showNotification();
        }

        localStorage.setItem('favorites', JSON.stringify(favorites));
        updateFavoriteCount();
        renderFavorites();
    });
});

function updateFavoriteCount() {
    const favoriteCountElement = document.querySelector('.favorites .count');
    favoriteCountElement.textContent = favorites.length;
}

function renderFavorites() {
    const favoritesList = document.getElementById('favoritesList');
    favoritesList.innerHTML = '';

    favorites.forEach(function(fav) {
        const listItem = document.createElement('div');
        listItem.classList.add('favorites-list-item');

        listItem.innerHTML = `
        <img src="${fav.image}" alt="${fav.name}">
        <div class="product-infox">
            <p class="product-namex">${fav.name}</p>
            <p class="product-pricex">${fav.price}</p>
            <p class="add-to-cart">Səbətə əlavə et</p>
            <span class="remove-icon">&times;</span>
        </div>
        `;

        // Remove icon click event
        listItem.querySelector('.remove-icon').addEventListener('click', function() {
            favorites = favorites.filter(f => f.name !== fav.name);
            localStorage.setItem('favorites', JSON.stringify(favorites));

            // Kartdakı like-iconu tam qırmızı halından çıxarmaq
            document.querySelectorAll('.product-cardx').forEach(function(card) {
                if (card.getAttribute('data-namex') === fav.name) {
                    card.querySelector('.like-iconx').classList.remove('filled');
                }
            });

            renderFavorites();
            updateFavoriteCount();
        });

        favoritesList.appendChild(listItem);
    });
}

function showNotification() {
    const notification = document.getElementById('notification');
    notification.classList.add('show');

    setTimeout(function() {
        notification.classList.remove('show');
    }, 3000);
}
function applyFilterAndClose() {
    filterProducts();
    w3_close();
}

// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
    overlayBg.style.display = "none";
  } else {
    mySidebar.style.display = 'block';
    overlayBg.style.display = "block";
  }
}

// Close the sidebar with the close button
function w3_close() {
  mySidebar.style.display = "none";
  overlayBg.style.display = "none";
} 
function applyFilterAndClose() {
    filterProducts();
    animateClose();
}

function w3_open() {
    const sidebar = document.getElementById("mySidebar");
    sidebar.style.display = "block";
    sidebar.style.transform = "translateX(0)";
    sidebar.style.opacity = "1";
}

function w3_close() {
    animateClose();
}

function animateClose() {
    const sidebar = document.getElementById("mySidebar");
    let opacity = 1;
    let transform = 0;
    
    const animate = () => {
        if (opacity > 0) {
            opacity -= 0.1;
            transform -= 10;
            sidebar.style.opacity = opacity;
            sidebar.style.transform = `translateX(${transform}px)`;
            requestAnimationFrame(animate);
        } else {
            sidebar.style.display = "none";
            sidebar.style.opacity = "1";
            sidebar.style.transform = "translateX(0)";
        }
    };
    animate();
}
function filterProductsx() {
                        const minPrice = parseFloat(document.getElementById("minPrice").value) || 0;
                        const maxPrice = parseFloat(document.getElementById("maxPrice").value) || Infinity;
                        const color = document.getElementById("color").value;
                        const searchTerm = document.getElementById("searchTerm").value.toLowerCase();
                        
                        const cards = document.querySelectorAll(".product-cardl");
                        let anyProductsMatch = false;
                
                        cards.forEach(card => {
                            const price = parseFloat(card.querySelector(".product-price").textContent.replace('$', ''));
                            const title = card.querySelector(".product-title").textContent.toLowerCase();
                            const cardColor = card.querySelector(".product-image").style.backgroundColor;
                
                            if ((price >= minPrice && price <= maxPrice) &&
                                (searchTerm === "" || title.includes(searchTerm)) &&
                                (color === "" || cardColor === color)) {
                                card.style.display = "block";
                                anyProductsMatch = true;
                            } else {
                                card.style.display = "none";
                            }
                        });
                
                        if (!anyProductsMatch) {
                            document.getElementById('noProductsMessage').style.display = 'block';
                        } else {
                            document.getElementById('noProductsMessage').style.display = 'none';
                        }
                    }
                
                    document.querySelectorAll('.nav-itemkat').forEach(item => {
                        item.addEventListener('click', event => {
                            const category = item.getAttribute('data-category');
                            filterByCategory(category);
                        });
                    });
                
                    function filterByCategory(category) {
                        const cards = document.querySelectorAll(".product-cardl");
                
                        cards.forEach(card => {
                            const cardCategory = card.getAttribute("data-category").toLowerCase();
                            if (category === "all" || cardCategory === category) {
                                card.style.display = "block";
                            } else {
                                card.style.display = "none";
                            }
                        });
                
                        const anyProductsMatch = Array.from(cards).some(card => card.style.display === "block");
            
                }
                // lll
                document.addEventListener('DOMContentLoaded', function() {
            const navbarkat = document.querySelector('.navbarkat');
            const scrollLeftBtn = document.querySelector('.scroll-btn.left');
            const scrollRightBtn = document.querySelector('.scroll-btn.right');
            
            // Scroll buttons event listeners for desktop
            scrollLeftBtn.addEventListener('click', function() {
                navbarkat.scrollBy({
                    left: -100,
                    behavior: 'smooth'
                });
            });

            scrollRightBtn.addEventListener('click', function() {
                navbarkat.scrollBy({
                    left: 100,
                    behavior: 'smooth'
                });
            });

            // Swipe left/right functionality for mobile
            let isDown = false;
            let startX;
            let scrollLeft;

            navbarkat.addEventListener('touchstart', (e) => {
                isDown = true;
                startX = e.touches[0].pageX - navbarkat.offsetLeft;
                scrollLeft = navbarkat.scrollLeft;
            });

            navbarkat.addEventListener('touchend', () => {
                isDown = false;
            });

            navbarkat.addEventListener('touchmove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.touches[0].pageX - navbarkat.offsetLeft;
                const walk = (x - startX) * 3; // Adjust scrolling speed here
                navbarkat.scrollLeft = scrollLeft - walk;
            });

            // Show/hide scroll buttons based on scroll position
            navbarkat.addEventListener('scroll', function() {
                checkScrollButtons();
            });

            function checkScrollButtons() {
                const scrollLeft = navbarkat.scrollLeft;
                const maxScrollLeft = navbarkat.scrollWidth - navbarkat.clientWidth;
                
                scrollLeftBtn.style.display = scrollLeft > 0 ? 'flex' : 'none';
                scrollRightBtn.style.display = scrollLeft < maxScrollLeft ? 'flex' : 'none';
            }
        });

</script>

</body>
</html>
